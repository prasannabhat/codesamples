<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: REXML::Document</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">REXML::Document</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/temp/document_rb.html">
                temp/document.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="Element.html">
                Element
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Represents a full XML document, including PIs, a <a
href="Document.html#M000497">doctype</a>, etc. A <a
href="Document.html">Document</a> has a single child that can be accessed
by <a href="Document.html#M000496">root</a>(). Note that if you want to
have an XML declaration written for a document you create, you must <a
href="Document.html#M000493">add</a> one; <a href="../REXML.html">REXML</a>
documents do not <a href="Document.html#M000502">write</a> a default
declaration for you. See |DECLARATION| and |<a
href="Document.html#M000502">write</a>|.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000494">&lt;&lt;</a>&nbsp;&nbsp;
      <a href="#M000493">add</a>&nbsp;&nbsp;
      <a href="#M000495">add_element</a>&nbsp;&nbsp;
      <a href="#M000490">clone</a>&nbsp;&nbsp;
      <a href="#M000497">doctype</a>&nbsp;&nbsp;
      <a href="#M000500">encoding</a>&nbsp;&nbsp;
      <a href="#M000491">expanded_name</a>&nbsp;&nbsp;
      <a href="#M000492">name</a>&nbsp;&nbsp;
      <a href="#M000488">new</a>&nbsp;&nbsp;
      <a href="#M000489">node_type</a>&nbsp;&nbsp;
      <a href="#M000503">parse_stream</a>&nbsp;&nbsp;
      <a href="#M000496">root</a>&nbsp;&nbsp;
      <a href="#M000501">stand_alone?</a>&nbsp;&nbsp;
      <a href="#M000499">version</a>&nbsp;&nbsp;
      <a href="#M000502">write</a>&nbsp;&nbsp;
      <a href="#M000498">xml_decl</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">DECLARATION</td>
          <td>=</td>
          <td class="context-item-value">XMLDecl.default</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
A convenient default XML declaration. If you want an XML declaration, the
easiest way to <a href="Document.html#M000493">add</a> one is mydoc
&lt;&lt; Document::DECLARATION <tt>DEPRECATED</tt> Use: mydoc &lt;&lt; <a
href="XMLDecl.html#M000316">XMLDecl.default</a>

</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000488" class="method-detail">
        <a name="M000488"></a>

        <div class="method-heading">
          <a href="Document.src/M000488.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000488.html');return false;">
          <span class="method-name">new</span><span class="method-args">( source = nil, context = {} )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Constructor @param source if supplied, must be a <a
href="Document.html">Document</a>, String, or IO. Documents have their
context and <a href="Element.html">Element</a> attributes cloned. Strings
are expected to be valid XML documents. IOs are expected to be sources of
valid XML documents. @param context if supplied, contains the context of
the document; this should be a Hash.
</p>
        </div>
      </div>

      <div id="method-M000503" class="method-detail">
        <a name="M000503"></a>

        <div class="method-heading">
          <a href="Document.src/M000503.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000503.html');return false;">
          <span class="method-name">parse_stream</span><span class="method-args">( source, listener )</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000494" class="method-detail">
        <a name="M000494"></a>

        <div class="method-heading">
          <span class="method-name">&lt;&lt;</span><span class="method-args">( child )</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Document.html#M000493">add</a>
</p>
        </div>
      </div>

      <div id="method-M000493" class="method-detail">
        <a name="M000493"></a>

        <div class="method-heading">
          <a href="Document.src/M000493.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000493.html');return false;">
          <span class="method-name">add</span><span class="method-args">( child )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
We override this, because XMLDecls and DocTypes must go at the start of the
document
</p>
        </div>
      </div>

      <div id="method-M000495" class="method-detail">
        <a name="M000495"></a>

        <div class="method-heading">
          <a href="Document.src/M000495.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000495.html');return false;">
          <span class="method-name">add_element</span><span class="method-args">(arg=nil, arg2=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000490" class="method-detail">
        <a name="M000490"></a>

        <div class="method-heading">
          <a href="Document.src/M000490.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000490.html');return false;">
          <span class="method-name">clone</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Should be obvious
</p>
        </div>
      </div>

      <div id="method-M000497" class="method-detail">
        <a name="M000497"></a>

        <div class="method-heading">
          <a href="Document.src/M000497.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000497.html');return false;">
          <span class="method-name">doctype</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the <a href="DocType.html">DocType</a> child of the document, if
one exists, and nil otherwise.
</p>
        </div>
      </div>

      <div id="method-M000500" class="method-detail">
        <a name="M000500"></a>

        <div class="method-heading">
          <a href="Document.src/M000500.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000500.html');return false;">
          <span class="method-name">encoding</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the <a href="XMLDecl.html">XMLDecl</a> <a
href="Document.html#M000500">encoding</a> of this document as a String. If
no <a href="XMLDecl.html">XMLDecl</a> has been set, returns the default <a
href="Document.html#M000500">encoding</a>.
</p>
        </div>
      </div>

      <div id="method-M000491" class="method-detail">
        <a name="M000491"></a>

        <div class="method-heading">
          <a href="Document.src/M000491.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000491.html');return false;">
          <span class="method-name">expanded_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
According to the XML spec, a <a href="Document.html#M000496">root</a> node
has no expanded <a href="Document.html#M000492">name</a>
</p>
        </div>
      </div>

      <div id="method-M000492" class="method-detail">
        <a name="M000492"></a>

        <div class="method-heading">
          <span class="method-name">name</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Document.html#M000491">expanded_name</a>
</p>
        </div>
      </div>

      <div id="method-M000489" class="method-detail">
        <a name="M000489"></a>

        <div class="method-heading">
          <a href="Document.src/M000489.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000489.html');return false;">
          <span class="method-name">node_type</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000496" class="method-detail">
        <a name="M000496"></a>

        <div class="method-heading">
          <a href="Document.src/M000496.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000496.html');return false;">
          <span class="method-name">root</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the <a href="Document.html#M000496">root</a> <a
href="Element.html">Element</a> of the document, or nil if this document
has no children.
</p>
        </div>
      </div>

      <div id="method-M000501" class="method-detail">
        <a name="M000501"></a>

        <div class="method-heading">
          <a href="Document.src/M000501.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000501.html');return false;">
          <span class="method-name">stand_alone?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the <a href="XMLDecl.html">XMLDecl</a> standalone value of this
document as a String. If no <a href="XMLDecl.html">XMLDecl</a> has been
set, returns the default setting.
</p>
        </div>
      </div>

      <div id="method-M000499" class="method-detail">
        <a name="M000499"></a>

        <div class="method-heading">
          <a href="Document.src/M000499.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000499.html');return false;">
          <span class="method-name">version</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the <a href="XMLDecl.html">XMLDecl</a> <a
href="Document.html#M000499">version</a> of this document as a String. If
no <a href="XMLDecl.html">XMLDecl</a> has been set, returns the default <a
href="Document.html#M000499">version</a>.
</p>
        </div>
      </div>

      <div id="method-M000502" class="method-detail">
        <a name="M000502"></a>

        <div class="method-heading">
          <a href="Document.src/M000502.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000502.html');return false;">
          <span class="method-name">write</span><span class="method-args">( output=$stdout, indent=-1, transitive=false, ie_hack=false )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Write the XML tree out, optionally with indent. This writes out the entire
XML document, including XML declarations, <a
href="Document.html#M000497">doctype</a> declarations, and processing
instructions (if any are given).
</p>
<p>
A controversial point is whether <a href="Document.html">Document</a>
should always <a href="Document.html#M000502">write</a> the XML declaration
(&lt;?xml version=&#8216;1.0&#8217;?&gt;) whether or not one is given by
the user (or source document). <a href="../REXML.html">REXML</a> does not
<a href="Document.html#M000502">write</a> one if one was not specified,
because it adds unneccessary bandwidth to applications such as XML-RPC.
</p>
<p>
See also the classes in the rexml/formatters package for the proper way to
change the default formatting of XML output
</p>
<p>
<em>Examples</em>
</p>
<pre>
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize

  output_string = &quot;&quot;
  tr = Transitive.new( output_string )
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize( tr )
</pre>
<table>
<tr><td valign="top">output:</td><td>output an object which supports &#8217;&lt;&lt; string&#8217;; this is
where the

</td></tr>
</table>
<pre>
  document will be written.
</pre>
<table>
<tr><td valign="top">indent:</td><td>An integer. If -1, no indenting will be used; otherwise, the indentation
will be twice this number of spaces, and children will be indented an
additional amount. For a value of 3, every item will be indented 3 more
levels, or 6 more spaces (2 * 3). Defaults to -1

</td></tr>
<tr><td valign="top">trans:</td><td>If transitive is true and indent is &gt;= 0, then the output will be
pretty-printed in such a way that the added whitespace does not affect the
absolute <b>value</b> of the document &#8212; that is, it leaves the value
and number of <a href="Text.html">Text</a> nodes in the document unchanged.

</td></tr>
<tr><td valign="top">ie_hack:</td><td>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself. Since IE is unable to parse
proper XML, we have to provide a hack to generate XML that IE&#8216;s
limited abilities can handle. This hack inserts a space before the /&gt; on
empty tags. Defaults to false

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000498" class="method-detail">
        <a name="M000498"></a>

        <div class="method-heading">
          <a href="Document.src/M000498.html" target="Code" class="method-signature"
            onclick="popupCode('Document.src/M000498.html');return false;">
          <span class="method-name">xml_decl</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the <a href="XMLDecl.html">XMLDecl</a> of this document; if no <a
href="XMLDecl.html">XMLDecl</a> has been set, the default declaration is
returned.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>